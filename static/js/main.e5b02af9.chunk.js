(this.webpackJsonpelementary=this.webpackJsonpelementary||[]).push([[0],{43:function(e,t,n){e.exports=n(63)},48:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(37),u=n.n(s),o=n(9),l=n(10),i=n(13),c=n(12),m=n(14),d=n(4),h=(n(48),n(25)),p=n(42),f=n(26),E=n(32),b=r.a.createContext(null),v=function(e){return function(t){return r.a.createElement(b.Consumer,null,(function(n){return r.a.createElement(e,Object.assign({},t,{firebase:n}))}))}},S=b,g=n(23),O=n.n(g),C=(n(52),n(54),{apiKey:"AIzaSyCAjPshcinKK1pwRGo95YcFll1b89n3wSY",authDomain:"elementary-school-e4a68.firebaseapp.com",databaseURL:"https://elementary-school-e4a68.firebaseio.com",projectId:"elementary-school-e4a68",storageBucket:"elementary-school-e4a68.appspot.com",messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/elementarydatabase",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_KEY:"AIzaSyCAjPshcinKK1pwRGo95YcFll1b89n3wSY",REACT_APP_AUTH_DOMAIN:"elementary-school-e4a68.firebaseapp.com",REACT_APP_DATABASE_URL:"https://elementary-school-e4a68.firebaseio.com",REACT_APP_PROJECT_ID:"elementary-school-e4a68",REACT_APP_STORAGE_BUCKET:"elementary-school-e4a68.appspot.com"}).REACT_APP_MESSAGING_SENDER_ID}),w=function e(){var t=this;Object(o.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,n){return t.auth.createUserWithEmailAndPassword(e,n)},this.doSignInWithEmailAndPassword=function(e,n){return t.auth.signInWithEmailAndPassword(e,n)},this.doSignOut=function(){return t.auth.signOut()},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},this.student=function(e){return t.db.ref("students/".concat(e))},this.students=function(){return t.db.ref("students")},O.a.initializeApp(C),this.auth=O.a.auth(),this.db=O.a.database()};function y(e){var t=r.a.useState(e.id),n=Object(h.a)(t,2),a=(n[0],n[1],r.a.useState(e.student)),s=Object(h.a)(a,2),u=s[0],o=s[1],l=r.a.useState(!1),i=Object(h.a)(l,2),c=i[0],m=i[1],d=function(){return m(!c)};return r.a.createElement(E.a,{style:{width:"10rem"}},r.a.createElement(E.a.Body,null,c?r.a.createElement("div",null,r.a.createElement("textarea",{defaultValue:u,className:"note__textarea",onChange:function(e){o(document.getElementById("textarea").value)},id:"textarea"}),r.a.createElement(f.a,{className:"note__save",onClick:function(){return d()}}," Save ")):u,c?"":r.a.createElement(f.a,{variant:"warning",onClick:function(){return d()}}," Edit Student")))}var A=v(function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.props.firebase.students().on("value",(function(e){e.val()}))},a.componentWillUnmount=function(){a.props.firebase.students.push({students:a.state.students}),a.props.firebase.students.off()},a.edit=function(){a.setState({editing:!0})},a.save=function(){a.setState({editing:!1})},a.add=function(){var e=a.props.total;e++,a.setState((function(t){return{students:[].concat(Object(p.a)(t.students),[r.a.createElement(y,{id:e,student:"Student"})]),total:e}}))},a.state={students:[],total:0},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(f.a,{variant:"primary",onClick:function(){return e.add()}},"New Student"),this.state.students.map((function(e){return e})))}}]),n}(a.Component)),j=v((function(e){var t=e.firebase;return r.a.createElement("button",{type:"button",onClick:t.doSignOut},"Sign Out")})),_=function(){return r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(j,null))),r.a.createElement(A,null))},P=function(){return r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(m.b,{to:"/signin"},"Sign In")))},T=function(e){var t=e.authUser;return r.a.createElement("div",null,t?r.a.createElement(_,null):r.a.createElement(P,null))},U=n(15),I=n(16),D=n(22),R={username:"",email:"",passwordOne:"",passwordTwo:"",error:null},k=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){var t=a.state,n=t.username,r=t.email,s=t.passwordOne;a.props.firebase.doCreateUserWithEmailAndPassword(r,s).then((function(e){return a.props.firebase.user(e.user.uid).set({username:n,email:r})})).then((function(){a.setState(Object(I.a)({},R)),a.props.history.push("/home")})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.state=Object(I.a)({},R),a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.email,a=e.passwordOne,s=e.passwordTwo,u=e.error,o=a!==s||""===a||""===n||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"username",value:t,onChange:this.onChange,type:"text",placeholder:"Full Name"}),r.a.createElement("input",{name:"email",value:n,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("input",{name:"passwordOne",value:a,onChange:this.onChange,type:"password",placeholder:"Password"}),r.a.createElement("input",{name:"passwordTwo",value:s,onChange:this.onChange,type:"password",placeholder:"Confirm Password"}),r.a.createElement("button",{disabled:o,type:"submit"},"Sign Up"),u&&r.a.createElement("p",null,u.message))}}]),n}(a.Component),W=function(){return r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(m.b,{to:"/signup"},"Sign Up"))},K=Object(D.a)(d.e,v)(k),x=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"SignUp"),r.a.createElement(K,null))},N={email:"",password:"",error:null},B=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){var t=a.state,n=t.email,r=t.password;a.props.firebase.doSignInWithEmailAndPassword(n,r).then((function(){a.setState(Object(I.a)({},N)),a.props.history.push("/home")})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.state=Object(I.a)({},N),a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,a=e.error,s=""===n||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("input",{name:"password",value:n,onChange:this.onChange,type:"password",placeholder:"Password"}),r.a.createElement("button",{disabled:s,type:"submit"},"Sign In"),a&&r.a.createElement("p",null,a.message))}}]),n}(a.Component),G=Object(D.a)(d.e,v)(B),Y=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"SignIn"),r.a.createElement(G,null),r.a.createElement(W,null))},L=v(function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={authUser:null},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(t){t?e.setState({authUser:t}):e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(T,{authUser:this.state.authUser}),r.a.createElement("hr",null),r.a.createElement(d.a,{path:"/signup",component:x}),r.a.createElement(d.a,{path:"/signin",component:Y})))}}]),n}(a.Component));u.a.render(r.a.createElement(S.Provider,{value:new w},r.a.createElement(L,null)),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.e5b02af9.chunk.js.map